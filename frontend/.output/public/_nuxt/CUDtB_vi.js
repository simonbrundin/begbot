import{C as g,l as h,J as f,c as a,a as s,H as p,t as i,F as b,E as k,r as d,o as n,y as w,U as C,G as _,_ as E}from"./BEFdwPCg.js";import{u as F}from"./DPGkDMz_.js";import"./BMadXahP.js";const I={class:"flex justify-between items-center mb-6"},j={class:"flex gap-2"},B={key:0,class:"text-center py-12 text-slate-500"},D={key:1,class:"text-center py-12 text-slate-500"},N={key:0},S={key:1},T={key:2,class:"space-y-4"},$=["onClick"],A={class:"flex justify-between items-start mb-2"},L={class:"flex-1"},M={class:"text-lg font-semibold text-slate-100"},V={class:"text-sm text-slate-400"},z={class:"text-right"},G={key:0,class:"text-lg font-bold text-primary-500"},H={key:1,class:"inline-block mt-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded"},J={class:"flex justify-between items-center text-sm text-slate-400 mt-2"},K=g({__name:"conversations",setup(R){const m=F(),l=d([]),c=d(!0),o=d(!0),u=async()=>{c.value=!0;try{const e=o.value?"/conversations?needs_review=true":"/conversations";l.value=await m.get(e)}catch(e){console.error("Failed to fetch conversations:",e)}finally{c.value=!1}},v=e=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK"}).format(e/100),x=e=>{const r=new Date(e);return new Intl.DateTimeFormat("sv-SE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)},y=e=>({active:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",closed:"px-2 py-1 bg-gray-500/20 text-gray-400 text-xs rounded",archived:"px-2 py-1 bg-slate-500/20 text-slate-400 text-xs rounded"})[e]||"px-2 py-1 bg-slate-500/20 text-slate-400 text-xs rounded";return h(o,()=>{u()}),f(()=>{u()}),(e,r)=>(n(),a("div",null,[s("div",I,[r[1]||(r[1]=s("h1",{class:"page-header"},"Meddelanden",-1)),s("div",j,[s("button",{onClick:r[0]||(r[0]=t=>o.value=!o.value),class:p(o.value?"btn btn-primary":"btn btn-secondary")},i(o.value?"BehÃ¶ver granskning":"Alla konversationer"),3)])]),c.value?(n(),a("div",B," Laddar konversationer... ")):l.value.length===0?(n(),a("div",D,[o.value?(n(),a("p",N,"Inga konversationer behÃ¶ver granskning just nu.")):(n(),a("p",S,"Inga konversationer hittades."))])):(n(),a("div",T,[(n(!0),a(b,null,k(l.value,t=>(n(),a("div",{key:t.id,class:"card p-4 hover:border-primary-500 cursor-pointer transition-colors",onClick:U=>("navigateTo"in e?e.navigateTo:w(C))(`/conversations/${t.id}`)},[s("div",A,[s("div",L,[s("h3",M,i(t.listing_title),1),s("p",V,i(t.marketplace_name),1)]),s("div",z,[t.listing_price?(n(),a("p",G,i(v(t.listing_price)),1)):_("",!0),t.pending_count>0?(n(),a("span",H,i(t.pending_count)+" att granska ",1)):_("",!0)])]),s("div",J,[s("span",{class:p(y(t.status))},i(t.status),3),s("span",null,i(x(t.updated_at)),1)])],8,$))),128))]))]))}}),Q=E(K,[["__scopeId","data-v-0a179bab"]]);export{Q as default};
